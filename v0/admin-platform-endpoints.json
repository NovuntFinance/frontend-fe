{
  "fileInfo": {
    "title": "Novunt API - Admin & Platform Endpoints Documentation",
    "description": "Complete documentation for admin management, platform features, and system endpoints",
    "version": "1.0.0",
    "lastUpdated": "2024-12-10",
    "totalEndpointGroups": 15
  },
  "endpointGroups": {
    "activityFeedEndpoints": {
      "description": "Public activity feed showing live platform activities for landing page and social proof",
      "baseUrl": "/api/v1/activities",
      "authentication": "Public (no auth required)",
      "endpoints": [
        {
          "method": "GET",
          "path": "/recent",
          "description": "Get recent platform activities (registrations, stakes, withdrawals, deposits)",
          "authentication": "Public",
          "queryParameters": {
            "limit": {
              "type": "integer",
              "default": 20,
              "description": "Number of activities to return"
            }
          },
          "responseExample": {
            "success": true,
            "data": [
              {
                "type": "stake",
                "maskedUsername": "J*n",
                "country": "United States",
                "countryCode": "US",
                "flagEmoji": "üá∫üá∏",
                "amount": 500,
                "description": "J*n from United States just staked $500 USDT",
                "emoji": "üí∏",
                "isHot": true,
                "priority": 5,
                "timestamp": "2024-12-10T10:30:00Z"
              }
            ]
          },
          "frontendUsage": "Display on landing page for social proof and platform activity"
        },
        {
          "method": "GET",
          "path": "/stats",
          "description": "Get aggregated activity statistics",
          "authentication": "Public",
          "responseExample": {
            "success": true,
            "data": {
              "totalUsers": 5420,
              "totalStakes": 3210,
              "totalWithdrawals": 1850,
              "totalVolume": 1250000,
              "activeToday": 342
            }
          }
        },
        {
          "method": "GET",
          "path": "/by-country",
          "description": "Get activities filtered by country",
          "authentication": "Public",
          "queryParameters": {
            "countryCode": "string (ISO 3166-1 alpha-2)",
            "limit": "integer"
          }
        },
        {
          "method": "POST",
          "path": "/seed",
          "description": "Seed simulated activities (admin only)",
          "authentication": "Admin",
          "requestBody": {
            "count": 20,
            "types": ["stake", "withdrawal", "registration"]
          }
        }
      ]
    },
    "chatbotEndpoints": {
      "description": "AI-powered chatbot for platform support with Telegram integration",
      "baseUrl": "/api/v1/chatbot",
      "authentication": "Mixed (some public, some authenticated)",
      "endpoints": [
        {
          "method": "POST",
          "path": "/message",
          "description": "Send message to AI chatbot and get response",
          "authentication": "Optional (works for authenticated and anonymous users)",
          "requestBody": {
            "message": "How do I stake my USDT?",
            "conversationId": "optional-conversation-id",
            "sessionId": "session-id-for-anonymous"
          },
          "responseExample": {
            "success": true,
            "data": {
              "message": "To stake your USDT, navigate to the Staking section...",
              "conversationId": "conv_123456",
              "sentiment": "neutral",
              "needsHumanSupport": false,
              "suggestedActions": ["Visit Staking Page", "View Tutorial"]
            }
          },
          "frontendUsage": "Chat widget on all pages for instant support"
        },
        {
          "method": "GET",
          "path": "/conversation/:conversationId",
          "description": "Get full conversation history",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "conversationId": "conv_123456",
              "messages": [
                {
                  "role": "user",
                  "content": "How do I stake?",
                  "timestamp": "2024-12-10T10:00:00Z"
                },
                {
                  "role": "assistant",
                  "content": "To stake your USDT...",
                  "timestamp": "2024-12-10T10:00:02Z"
                }
              ],
              "sentiment": "positive",
              "resolved": false,
              "tags": ["staking", "tutorial"]
            }
          }
        },
        {
          "method": "GET",
          "path": "/conversations",
          "description": "Get user's conversation history",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/quick-answer",
          "description": "Get quick answer for common questions",
          "authentication": "Public",
          "queryParameters": {
            "question": "string (question text)"
          }
        },
        {
          "method": "POST",
          "path": "/conversation/:conversationId/resolve",
          "description": "Mark conversation as resolved",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/stats",
          "description": "Get chatbot statistics (admin only)",
          "authentication": "Super Admin",
          "responseExample": {
            "totalConversations": 1523,
            "resolvedConversations": 1342,
            "needingHumanSupport": 45,
            "averageResponseTime": "0.8s",
            "satisfactionScore": 4.5
          }
        }
      ]
    },
    "achievementEndpoints": {
      "description": "Achievement badge system with gamification features",
      "baseUrl": "/api/v1/achievements",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/catalog",
          "description": "Get all available achievement badges",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "message": "All badges retrieved successfully",
            "data": {
              "totalBadges": 25,
              "badges": [
                {
                  "badgeId": "first-stake",
                  "name": "First Stake",
                  "description": "Complete your first stake",
                  "category": "milestones",
                  "icon": "üéØ",
                  "rarity": "common",
                  "points": 50,
                  "unlockCriteria": {
                    "type": "stake_count",
                    "value": 1
                  }
                }
              ]
            }
          }
        },
        {
          "method": "GET",
          "path": "/me",
          "description": "Get current user's achievements",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "totalEarned": 12,
              "totalPoints": 850,
              "achievements": [
                {
                  "badge": "first-stake",
                  "earnedAt": "2024-11-15T10:00:00Z",
                  "progress": 100
                }
              ],
              "inProgress": [
                {
                  "badge": "stake-master",
                  "progress": 75,
                  "requirement": "Complete 10 stakes",
                  "current": 7,
                  "target": 10
                }
              ]
            }
          }
        },
        {
          "method": "GET",
          "path": "/progress/:badgeId",
          "description": "Get progress towards specific badge",
          "authentication": "Authenticated"
        },
        {
          "method": "POST",
          "path": "/claim/:badgeId",
          "description": "Claim/unlock earned badge",
          "authentication": "Authenticated"
        }
      ]
    },
    "leaderboardEndpoints": {
      "description": "Leaderboard and ranking system for top performers",
      "baseUrl": "/api/v1/leaderboard",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/all",
          "description": "Get all leaderboards at once (top earners, stakers, referrers)",
          "authentication": "Authenticated",
          "queryParameters": {
            "limit": {
              "type": "integer",
              "default": 10,
              "description": "Number of users per leaderboard"
            }
          },
          "responseExample": {
            "success": true,
            "data": {
              "topEarners": [
                {
                  "rank": 1,
                  "username": "J***n",
                  "totalEarnings": 25000,
                  "country": "üá∫üá∏",
                  "badge": "üèÜ"
                }
              ],
              "topStakers": [],
              "topReferrers": [],
              "generatedAt": "2024-12-10T10:00:00Z"
            }
          }
        },
        {
          "method": "GET",
          "path": "/earners",
          "description": "Get top earners leaderboard",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/stakers",
          "description": "Get top stakers leaderboard",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/referrers",
          "description": "Get top referrers leaderboard",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/my-position",
          "description": "Get current user's position in all leaderboards",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "earnings": {
                "rank": 245,
                "totalEarnings": 1250,
                "percentile": 85
              },
              "staking": {
                "rank": 312,
                "totalStaked": 5000
              },
              "referrals": {
                "rank": 89,
                "totalReferrals": 15
              }
            }
          }
        }
      ]
    },
    "adminRankManagementEndpoints": {
      "description": "Admin endpoints for managing rank system configuration and distributions",
      "baseUrl": "/api/v1/admin/rank-management",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/config",
          "description": "Get current rank system configuration",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "ranks": [
                {
                  "name": "Stakeholder",
                  "minTotalStake": 0,
                  "color": "#silver"
                },
                {
                  "name": "Elite Stakeholder",
                  "minTotalStake": 1000,
                  "color": "#gold"
                }
              ],
              "rankPoolPercentage": 0.3,
              "redistributionPoolPercentage": 0.2
            }
          }
        },
        {
          "method": "PUT",
          "path": "/config",
          "description": "Update rank system configuration",
          "authentication": "Admin",
          "requestBody": {
            "rankPoolPercentage": 0.3,
            "redistributionPoolPercentage": 0.2,
            "ranks": []
          }
        },
        {
          "method": "POST",
          "path": "/process-upgrades",
          "description": "Process all pending rank upgrades for users",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "processedUsers": 45,
              "upgrades": 12,
              "downgrades": 3
            }
          }
        },
        {
          "method": "POST",
          "path": "/distribute-rank-pool",
          "description": "Distribute rank pool bonuses to eligible users",
          "authentication": "Admin",
          "requestBody": {
            "poolAmount": 50000,
            "distributionDate": "2024-12-10"
          }
        },
        {
          "method": "POST",
          "path": "/distribute-redistribution-pool",
          "description": "Distribute redistribution pool bonuses",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/pool-distributions",
          "description": "Get pool distribution history",
          "authentication": "Admin",
          "queryParameters": {
            "page": 1,
            "limit": 20,
            "startDate": "2024-11-01",
            "endDate": "2024-12-10"
          }
        },
        {
          "method": "GET",
          "path": "/rank-achievements",
          "description": "Get rank achievement history for all users",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/analytics",
          "description": "Get rank system analytics dashboard",
          "authentication": "Admin",
          "responseExample": {
            "totalUsers": 5420,
            "usersByRank": {
              "Stakeholder": 3200,
              "Elite Stakeholder": 1500,
              "Premier Stakeholder": 500
            },
            "totalRankPoolDistributed": 125000,
            "averageRankBonus": 450
          }
        },
        {
          "method": "GET",
          "path": "/user/:userId",
          "description": "Get specific user's rank information (admin view)",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/user/:userId/verify",
          "description": "Manually verify user rank eligibility",
          "authentication": "Admin"
        }
      ]
    },
    "userRankEndpoints": {
      "description": "User-facing rank system endpoints (already documented in user-endpoints.json but added here for completeness)",
      "baseUrl": "/api/v1/user/rank",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/my-rank",
          "description": "Get current user's rank information",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "currentRank": "Elite Stakeholder",
              "totalStaked": 2500,
              "rankColor": "#gold",
              "rankIcon": "‚≠ê",
              "nextRank": "Premier Stakeholder",
              "progressToNextRank": 50
            }
          }
        },
        {
          "method": "GET",
          "path": "/calculate-rank",
          "description": "Calculate user's current rank eligibility based on stakes",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/my-pool-distributions",
          "description": "Get user's rank pool distribution history",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/my-rank-history",
          "description": "Get user's rank achievement history",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/my-team",
          "description": "Get user's team information (downlines and their ranks)",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/next-rank-requirements",
          "description": "Get qualification requirements for next rank",
          "authentication": "Authenticated",
          "responseExample": {
            "currentRank": "Elite Stakeholder",
            "nextRank": "Premier Stakeholder",
            "requirements": {
              "minTotalStake": 5000,
              "currentStake": 2500,
              "remaining": 2500,
              "percentComplete": 50
            }
          }
        },
        {
          "method": "GET",
          "path": "/my-incentive-wallet",
          "description": "Get user's incentive wallet summary (rank and redistribution bonuses)",
          "authentication": "Authenticated"
        }
      ]
    },
    "rankDeclarationEndpoints": {
      "description": "Admin endpoints for declaring and managing weekly/monthly rank pool distributions",
      "baseUrl": "/api/v1/admin/rank-declarations",
      "authentication": "Admin/Super Admin",
      "endpoints": [
        {
          "method": "POST",
          "path": "/declare",
          "description": "Declare rank pools for current week",
          "authentication": "Admin",
          "requestBody": {
            "rankPool": 30000,
            "redistributionPool": 20000,
            "declarationPeriod": "weekly",
            "notes": "Week 50 distribution"
          },
          "responseExample": {
            "success": true,
            "message": "Rank pools declared successfully",
            "data": {
              "declarationId": "decl_123456",
              "rankPool": 30000,
              "redistributionPool": 20000,
              "status": "pending_approval",
              "declaredBy": "admin_id",
              "declaredAt": "2024-12-10T10:00:00Z"
            }
          }
        },
        {
          "method": "GET",
          "path": "/current-week",
          "description": "Get current week's rank declaration",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/",
          "description": "Get all rank declarations with pagination",
          "authentication": "Admin",
          "queryParameters": {
            "page": 1,
            "limit": 20,
            "status": "approved|pending|rejected"
          }
        },
        {
          "method": "GET",
          "path": "/:id",
          "description": "Get specific rank declaration by ID",
          "authentication": "Admin"
        },
        {
          "method": "PUT",
          "path": "/:id/approve",
          "description": "Approve a rank declaration (triggers distribution)",
          "authentication": "Super Admin",
          "responseExample": {
            "success": true,
            "message": "Declaration approved and distribution initiated",
            "data": {
              "declarationId": "decl_123456",
              "status": "approved",
              "approvedBy": "superadmin_id",
              "approvedAt": "2024-12-10T11:00:00Z",
              "distributionStarted": true
            }
          }
        },
        {
          "method": "PUT",
          "path": "/:id/reject",
          "description": "Reject a rank declaration",
          "authentication": "Super Admin",
          "requestBody": {
            "reason": "Incorrect pool amounts"
          }
        }
      ]
    },
    "specialFundsAdminEndpoints": {
      "description": "Admin endpoints for managing special funds contracts for VIP users",
      "baseUrl": "/api/v1/admin/special-funds",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/settings",
          "description": "Get special funds platform settings",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "maxContractAmountPerUser": 10000,
              "maxActiveContractsGlobal": 100,
              "minContractAmount": 100,
              "defaultStakingPercentage": 12,
              "specialFundsEnabled": true,
              "allowCompounding": true
            }
          }
        },
        {
          "method": "PUT",
          "path": "/settings",
          "description": "Update special funds settings",
          "authentication": "Admin",
          "requestBody": {
            "maxContractAmountPerUser": 15000,
            "specialFundsEnabled": true
          }
        },
        {
          "method": "GET",
          "path": "/contracts",
          "description": "Get all special funds contracts with filtering",
          "authentication": "Admin",
          "queryParameters": {
            "status": "active|pending_approval|terminated|completed",
            "userId": "user_id",
            "page": 1,
            "limit": 20
          }
        },
        {
          "method": "POST",
          "path": "/contracts",
          "description": "Create new special funds contract for user",
          "authentication": "Admin",
          "requestBody": {
            "userId": "user_id",
            "principalAmount": 5000,
            "stakingDurationDays": 180,
            "stakingPercentage": 15,
            "notes": "VIP user contract"
          }
        },
        {
          "method": "GET",
          "path": "/contracts/:contractId",
          "description": "Get specific contract details",
          "authentication": "Admin"
        },
        {
          "method": "PUT",
          "path": "/contracts/:contractId/approve",
          "description": "Approve pending contract",
          "authentication": "Admin"
        },
        {
          "method": "PUT",
          "path": "/contracts/:contractId/terminate",
          "description": "Terminate active contract",
          "authentication": "Admin",
          "requestBody": {
            "reason": "User request|Policy violation|Other"
          }
        },
        {
          "method": "PUT",
          "path": "/contracts/:contractId/compounding",
          "description": "Enable/disable compounding for contract",
          "authentication": "Admin",
          "requestBody": {
            "enable": true
          }
        },
        {
          "method": "POST",
          "path": "/process-earnings",
          "description": "Process earnings calculation for all active contracts",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/analytics",
          "description": "Get special funds analytics dashboard",
          "authentication": "Admin",
          "responseExample": {
            "totalActiveContracts": 45,
            "totalContractValue": 225000,
            "totalEarningsDistributed": 15000,
            "averageContractSize": 5000
          }
        },
        {
          "method": "GET",
          "path": "/users/:userId/balance",
          "description": "Get user's special funds balance and contract status",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/search-users",
          "description": "Search users for contract creation",
          "authentication": "Admin",
          "queryParameters": {
            "query": "username or email",
            "limit": 10
          }
        }
      ]
    },
    "specialFundsUserEndpoints": {
      "description": "User-facing special funds endpoints",
      "baseUrl": "/api/v1/user/special-funds",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/settings",
          "description": "Get public special funds settings and eligibility",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/my-contract",
          "description": "Get current user's special funds contract",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "contractId": "SF_123456",
              "status": "active",
              "principalAmount": 5000,
              "currentStakeAmount": 5000,
              "totalEarnings": 450,
              "totalWithdrawn": 0,
              "stakingPercentage": 15,
              "startDate": "2024-11-01T00:00:00Z",
              "endDate": "2025-04-30T00:00:00Z",
              "daysRemaining": 141,
              "isCompounding": false
            }
          }
        },
        {
          "method": "GET",
          "path": "/my-balance",
          "description": "Get user's special funds balance and earnings",
          "authentication": "Authenticated"
        },
        {
          "method": "POST",
          "path": "/withdraw",
          "description": "Request withdrawal from special funds earnings",
          "authentication": "Authenticated",
          "requestBody": {
            "amount": 100
          }
        },
        {
          "method": "GET",
          "path": "/transaction-history",
          "description": "Get special funds transaction history",
          "authentication": "Authenticated"
        }
      ]
    },
    "enhancedAdminEndpoints": {
      "description": "Enhanced admin endpoints for financial safeguards, reconciliation, and fraud detection",
      "baseUrl": "/api/v1/admin/enhanced",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/dashboard/financial",
          "description": "Get comprehensive financial dashboard with safeguards status",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "totalWalletBalance": 5250000,
              "ledgerBalance": 5250000,
              "reconciliationStatus": "in_sync",
              "lastReconciliation": "2024-12-10T08:00:00Z",
              "pendingTransactions": 12,
              "flaggedTransactions": 3,
              "doublespendAttempts": 0
            }
          }
        },
        {
          "method": "POST",
          "path": "/reconciliation/trigger",
          "description": "Trigger manual reconciliation of wallet balances vs ledger",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "message": "Reconciliation completed successfully",
            "data": {
              "discrepancies": 0,
              "walletsChecked": 5420,
              "ledgerEntriesChecked": 45230,
              "status": "in_sync"
            }
          }
        },
        {
          "method": "GET",
          "path": "/reconciliation/history",
          "description": "Get reconciliation history with results",
          "authentication": "Admin",
          "queryParameters": {
            "page": 1,
            "limit": 20,
            "startDate": "2024-11-01",
            "endDate": "2024-12-10"
          }
        },
        {
          "method": "GET",
          "path": "/business-rules",
          "description": "Get all active business rules",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "totalRules": 45,
              "rules": [
                {
                  "ruleId": "max_daily_withdrawal",
                  "category": "limits",
                  "type": "amount",
                  "isActive": true,
                  "parameters": {
                    "key": "max_daily_withdrawal",
                    "value": 10000,
                    "unit": "USDT"
                  }
                }
              ]
            }
          }
        },
        {
          "method": "POST",
          "path": "/business-rules",
          "description": "Create new business rule",
          "authentication": "Admin",
          "requestBody": {
            "ruleId": "min_stake_amount",
            "category": "limits",
            "type": "amount",
            "parameters": {
              "value": 10,
              "unit": "USDT"
            },
            "description": "Minimum stake amount",
            "isActive": true
          }
        },
        {
          "method": "PUT",
          "path": "/business-rules/:ruleId",
          "description": "Update existing business rule",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/fraud-detection/dashboard",
          "description": "Get fraud detection dashboard with flagged activities",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "flaggedUsers": 12,
              "flaggedTransactions": 8,
              "blockedOperations": 3,
              "riskScoresAbove80": 5,
              "recentAlerts": []
            }
          }
        },
        {
          "method": "GET",
          "path": "/ledger/entries",
          "description": "Get ledger entries with advanced filtering",
          "authentication": "Admin",
          "queryParameters": {
            "userId": "user_id",
            "type": "debit|credit",
            "category": "stake|withdrawal|deposit|bonus",
            "startDate": "2024-11-01",
            "endDate": "2024-12-10",
            "page": 1,
            "limit": 50
          }
        },
        {
          "method": "GET",
          "path": "/ledger/verify/:entryId",
          "description": "Verify specific ledger entry integrity and chain",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "entryId": "ledger_123456",
              "isValid": true,
              "hashVerified": true,
              "previousEntryVerified": true,
              "walletBalanceMatches": true
            }
          }
        }
      ]
    },
    "uiThemeEndpoints": {
      "description": "User UI preferences and theme customization",
      "baseUrl": "/api/v1/ui",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/theme/preferences",
          "description": "Get user's theme preferences",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "theme": "dark",
              "primaryColor": "#4F46E5",
              "fontSize": "medium",
              "animations": true,
              "compactMode": false
            }
          }
        },
        {
          "method": "PUT",
          "path": "/theme/preferences",
          "description": "Update user's theme preferences",
          "authentication": "Authenticated",
          "requestBody": {
            "theme": "dark|light|auto",
            "primaryColor": "#4F46E5",
            "fontSize": "small|medium|large"
          }
        },
        {
          "method": "GET",
          "path": "/theme/variables",
          "description": "Get theme CSS variables for frontend",
          "authentication": "Public",
          "responseExample": {
            "success": true,
            "data": {
              "--color-primary": "#4F46E5",
              "--color-background": "#0F172A",
              "--color-text": "#F1F5F9",
              "--font-size-base": "16px"
            }
          }
        },
        {
          "method": "GET",
          "path": "/contextual-texts",
          "description": "Get contextual texts for specific location",
          "authentication": "Authenticated",
          "queryParameters": {
            "location": "dashboard|staking|wallet|profile"
          }
        },
        {
          "method": "GET",
          "path": "/activity-feed",
          "description": "Get user's personalized activity feed",
          "authentication": "Authenticated",
          "queryParameters": {
            "category": "all|staking|wallet|referral",
            "page": 1,
            "limit": 20
          }
        },
        {
          "method": "POST",
          "path": "/activity-feed/:activityId/read",
          "description": "Mark activity as read",
          "authentication": "Authenticated"
        },
        {
          "method": "POST",
          "path": "/activity-feed/:activityId/track",
          "description": "Track activity interaction (click, share, like)",
          "authentication": "Authenticated",
          "requestBody": {
            "interactionType": "click|share|like"
          }
        },
        {
          "method": "GET",
          "path": "/dashboard",
          "description": "Get complete UI dashboard data in one request (performance optimized)",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "theme": {},
              "contextualTexts": [],
              "activityFeed": [],
              "quickStats": {},
              "notifications": []
            }
          }
        }
      ]
    },
    "adminUIEndpoints": {
      "description": "Admin UI configuration and contextual help management",
      "baseUrl": "/api/v1/admin/ui",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/theme/analytics",
          "description": "Get theme usage analytics",
          "authentication": "Admin",
          "responseExample": {
            "darkThemeUsers": 3420,
            "lightThemeUsers": 1200,
            "mostUsedColors": ["#4F46E5", "#10B981"]
          }
        },
        {
          "method": "PUT",
          "path": "/theme/settings",
          "description": "Update platform-wide theme settings",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/contextual-texts",
          "description": "Get all contextual texts for management",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/contextual-texts",
          "description": "Create new contextual text",
          "authentication": "Admin",
          "requestBody": {
            "key": "staking-help-tip",
            "title": "Staking Help",
            "content": "Learn how to stake...",
            "type": "tip",
            "location": "staking",
            "isActive": true
          }
        },
        {
          "method": "PUT",
          "path": "/contextual-texts/:textId",
          "description": "Update contextual text",
          "authentication": "Admin"
        },
        {
          "method": "DELETE",
          "path": "/contextual-texts/:textId",
          "description": "Delete contextual text",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/tooltips",
          "description": "Get all admin dashboard tooltips",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/tooltips",
          "description": "Create new admin tooltip",
          "authentication": "Admin"
        },
        {
          "method": "PUT",
          "path": "/tooltips/:tooltipId",
          "description": "Update admin tooltip",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/dashboard",
          "description": "Get complete admin UI dashboard data",
          "authentication": "Admin"
        }
      ]
    },
    "fcmMonitoringEndpoints": {
      "description": "Firebase Cloud Messaging monitoring and testing for push notifications",
      "baseUrl": "/api/v1/fcm-monitoring",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/dashboard",
          "description": "Get FCM monitoring dashboard",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "totalTokens": 3420,
              "activeTokens": 3215,
              "invalidTokens": 205,
              "totalNotificationsSent": 125340,
              "deliveryRate": 94.5,
              "failedDeliveries": 6890
            }
          }
        },
        {
          "method": "POST",
          "path": "/test-delivery",
          "description": "Test FCM notification delivery to specific user",
          "authentication": "Admin",
          "requestBody": {
            "userId": "user_id",
            "title": "Test Notification",
            "body": "This is a test",
            "data": {}
          }
        },
        {
          "method": "GET",
          "path": "/validate-tokens/:userId",
          "description": "Validate FCM tokens for specific user",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/cleanup-tokens",
          "description": "Clean up invalid FCM tokens platform-wide",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "message": "Cleanup completed",
            "data": {
              "tokensRemoved": 205,
              "usersAffected": 187
            }
          }
        }
      ]
    },
    "migrationEndpoints": {
      "description": "System migration and maintenance endpoints (Super Admin only)",
      "baseUrl": "/api/v1/migration",
      "authentication": "Super Admin",
      "endpoints": [
        {
          "method": "POST",
          "path": "/migrate-referral-codes",
          "description": "Generate referral codes for existing users without codes",
          "authentication": "Super Admin",
          "responseExample": {
            "success": true,
            "message": "Migration completed successfully",
            "summary": {
              "totalProcessed": 1523,
              "successful": 1523,
              "failed": 0
            },
            "results": []
          }
        },
        {
          "method": "GET",
          "path": "/migration-status",
          "description": "Check migration status for referral codes",
          "authentication": "Super Admin",
          "responseExample": {
            "totalUsers": 5420,
            "usersWithReferralCodes": 5420,
            "usersWithoutReferralCodes": 0,
            "migrationComplete": true
          }
        }
      ]
    },
    "enhancedTransactionEndpoints": {
      "description": "Enhanced transaction system with comprehensive safeguards and audit trail",
      "baseUrl": "/api/v1/enhanced-transactions",
      "authentication": "Authenticated",
      "endpoints": [
        {
          "method": "GET",
          "path": "/health",
          "description": "Health check for enhanced transaction system",
          "authentication": "Public",
          "responseExample": {
            "success": true,
            "message": "Enhanced Transaction System is operational",
            "features": [
              "Immutable Ledger",
              "Enhanced Fraud Prevention",
              "Real-time Reconciliation",
              "Double-spending Prevention",
              "Business Rule Engine",
              "Unique Transaction IDs",
              "Comprehensive Audit Trail"
            ],
            "timestamp": "2024-12-10T10:00:00Z"
          }
        }
      ],
      "note": "Most transaction endpoints are handled through standard transaction routes with enhanced safeguards running in the background"
    },
    "enhancedAdminManagementEndpoints": {
      "description": "Enhanced admin management with approval workflows, analytics, and configurability",
      "baseUrl": "/api/v1/admin/enhanced-management",
      "authentication": "Admin/Super Admin",
      "endpoints": [
        {
          "method": "POST",
          "path": "/workflows",
          "description": "Create new approval workflow for sensitive actions",
          "authentication": "Admin",
          "requestBody": {
            "actionType": "system_setting_change|user_ban|large_withdrawal",
            "requestData": {},
            "approvalCriteria": {
              "requiredApprovals": 2,
              "expiryHours": 24
            }
          }
        },
        {
          "method": "POST",
          "path": "/workflows/:workflowId/process",
          "description": "Process approval workflow (approve/reject/request_changes)",
          "authentication": "Admin",
          "requestBody": {
            "action": "approve|reject|request_changes",
            "comments": "optional comments"
          }
        },
        {
          "method": "PUT",
          "path": "/finance-visibility",
          "description": "Update finance visibility settings for users and admins",
          "authentication": "Admin",
          "requestBody": {
            "showUserBalances": true,
            "showTransactionAmounts": true,
            "maskSensitiveData": false
          }
        },
        {
          "method": "GET",
          "path": "/finance-visibility",
          "description": "Get current finance visibility settings",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/tooltips",
          "description": "Get admin tooltips with filtering",
          "authentication": "Admin",
          "queryParameters": {
            "category": "setting|feature|action|metric",
            "page": 1,
            "limit": 20
          }
        },
        {
          "method": "POST",
          "path": "/tooltips",
          "description": "Create new admin tooltip",
          "authentication": "Super Admin",
          "requestBody": {
            "key": "unique-tooltip-key",
            "title": "Tooltip Title",
            "content": "Detailed explanation",
            "category": "setting",
            "isActive": true
          }
        },
        {
          "method": "PUT",
          "path": "/tooltips/:tooltipId",
          "description": "Update existing admin tooltip",
          "authentication": "Super Admin"
        },
        {
          "method": "POST",
          "path": "/tooltips/initialize",
          "description": "Initialize default admin tooltips",
          "authentication": "Super Admin"
        },
        {
          "method": "GET",
          "path": "/analytics/dashboard",
          "description": "Get comprehensive admin analytics dashboard",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "financialMetrics": {},
              "userActivity": {},
              "systemPerformance": {},
              "securityAlerts": []
            }
          }
        },
        {
          "method": "GET",
          "path": "/analytics/:type",
          "description": "Get analytics by specific type (financial, user_activity, security, etc.)",
          "authentication": "Admin",
          "queryParameters": {
            "timeframe": "24h|7d|30d|90d|1y",
            "page": 1,
            "limit": 50
          }
        }
      ]
    },
    "coreAdminEndpoints": {
      "description": "Core admin management endpoints for user and transaction management",
      "baseUrl": "/api/v1/admin",
      "authentication": "Admin/Super Admin",
      "endpoints": [
        {
          "method": "POST",
          "path": "/login",
          "description": "Admin login (rate limited)",
          "authentication": "Public",
          "requestBody": {
            "email": "admin@novunt.com",
            "password": "password123"
          }
        },
        {
          "method": "POST",
          "path": "/logout",
          "description": "Admin logout",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/profile",
          "description": "Get admin profile",
          "authentication": "Admin"
        },
        {
          "method": "PATCH",
          "path": "/password",
          "description": "Update admin password",
          "authentication": "Admin",
          "requestBody": {
            "currentPassword": "oldpass",
            "newPassword": "newpass",
            "confirmPassword": "newpass"
          }
        },
        {
          "method": "PATCH",
          "path": "/profile/picture",
          "description": "Update admin profile picture",
          "authentication": "Admin"
        },
        {
          "method": "PATCH",
          "path": "/withdrawal/:transactionId",
          "description": "Approve or reject withdrawal request (requires 2FA)",
          "authentication": "Admin + 2FA",
          "requestBody": {
            "status": "approved|rejected",
            "reason": "optional rejection reason"
          }
        },
        {
          "method": "POST",
          "path": "/create-admin",
          "description": "Create new admin account",
          "authentication": "Super Admin",
          "requestBody": {
            "fname": "John",
            "lname": "Doe",
            "email": "newadmin@novunt.com",
            "username": "johnadmin",
            "password": "password123"
          }
        },
        {
          "method": "POST",
          "path": "/create-super-admin",
          "description": "Create new super admin account",
          "authentication": "Super Admin"
        },
        {
          "method": "GET",
          "path": "/user/:userId",
          "description": "Get user's stakes by user ID",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/users-balances",
          "description": "Get all users with their wallet balances",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": [
              {
                "userId": "user_123",
                "username": "john_doe",
                "depositWallet": 500,
                "earningsWallet": 250,
                "referralWallet": 75,
                "transferWallet": 0,
                "totalBalance": 825
              }
            ]
          }
        },
        {
          "method": "GET",
          "path": "/flagged-activities",
          "description": "Get flagged suspicious activities",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/activity-logs",
          "description": "Get admin activity logs (audit trail)",
          "authentication": "Super Admin"
        },
        {
          "method": "GET",
          "path": "/transactions",
          "description": "Get all platform transactions",
          "authentication": "Admin",
          "queryParameters": {
            "page": 1,
            "limit": 50,
            "type": "deposit|withdrawal|stake|transfer|bonus",
            "status": "pending|completed|failed",
            "startDate": "2024-11-01",
            "endDate": "2024-12-10"
          }
        },
        {
          "method": "POST",
          "path": "/declare-weekly-profit",
          "description": "Declare weekly profit for distribution (legacy - use weekly-distribution instead)",
          "authentication": "Admin",
          "deprecated": true
        },
        {
          "method": "PATCH",
          "path": "/kyc/review/:kycId",
          "description": "Review and approve/reject KYC submission",
          "authentication": "Admin",
          "requestBody": {
            "status": "approved|rejected",
            "rejectionReason": "optional reason if rejected"
          }
        },
        {
          "method": "GET",
          "path": "/security/monitoring",
          "description": "Get security monitoring dashboard",
          "authentication": "Admin",
          "responseExample": {
            "flaggedUsers": 5,
            "blockedIPs": 12,
            "failedLoginAttempts": 45,
            "suspiciousTransactions": 3
          }
        },
        {
          "method": "GET",
          "path": "/security/user/:userId",
          "description": "Get specific user's suspicious activity details",
          "authentication": "Admin"
        }
      ]
    },
    "coreWalletEndpoints": {
      "description": "Core wallet management and special 'ALL' transfer features",
      "baseUrl": "/api/v1/wallets",
      "authentication": "Authenticated (2FA required for sensitive ops)",
      "endpoints": [
        {
          "method": "GET",
          "path": "/",
          "description": "Get all wallets (admin only)",
          "authentication": "Admin"
        },
        {
          "method": "GET",
          "path": "/info",
          "description": "Get current user's wallet information",
          "authentication": "Authenticated",
          "responseExample": {
            "success": true,
            "data": {
              "depositWallet": 500,
              "earningsWallet": 250,
              "referralWallet": 75,
              "transferWallet": 0,
              "totalBalance": 825
            }
          }
        },
        {
          "method": "GET",
          "path": "/my-wallet",
          "description": "Get detailed user wallet (requires 2FA)",
          "authentication": "Authenticated + 2FA"
        },
        {
          "method": "GET",
          "path": "/:id",
          "description": "Get specific user wallet by ID (admin only)",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/transfer/preview",
          "description": "Preview transfer ALL funds to another user",
          "authentication": "Authenticated + 2FA",
          "requestBody": {
            "recipientId": "user_123"
          },
          "responseExample": {
            "success": true,
            "data": {
              "totalAmount": 825,
              "breakdown": {
                "depositWallet": 500,
                "earningsWallet": 250,
                "referralWallet": 75,
                "transferWallet": 0
              },
              "fees": 0,
              "netAmount": 825
            }
          }
        },
        {
          "method": "POST",
          "path": "/transfer/all",
          "description": "Transfer ALL wallet balances to another user (requires 2FA)",
          "authentication": "Authenticated + 2FA",
          "requestBody": {
            "recipientId": "user_123",
            "memo": "optional transfer note"
          }
        },
        {
          "method": "POST",
          "path": "/staking/preview",
          "description": "Preview staking ALL available funds",
          "authentication": "Authenticated + 2FA",
          "requestBody": {
            "goalId": "optional goal ID"
          },
          "responseExample": {
            "success": true,
            "data": {
              "availableForStaking": 500,
              "fromWallet": "depositWallet",
              "projectedROI": 1000,
              "projectedEarnings": 500,
              "estimatedWeeks": 52
            }
          }
        }
      ]
    },
    "coreTransactionEndpoints": {
      "description": "Core transaction endpoints including deposit webhook",
      "baseUrl": "/api/v1/transactions",
      "authentication": "Mixed (webhook is public with signature validation)",
      "endpoints": [
        {
          "method": "POST",
          "path": "/webhook/deposit",
          "description": "NowPayments deposit webhook (public but secured with signature validation)",
          "authentication": "Public (NowPayments signature required)",
          "security": "Webhook signature validation, replay prevention, rate limiting",
          "requestBody": {
            "payment_id": "nowpayments_id",
            "payment_status": "finished|partially_paid|failed",
            "pay_address": "crypto_address",
            "price_amount": 100,
            "actually_paid": 100,
            "order_id": "internal_invoice_id"
          },
          "note": "This endpoint processes crypto deposits from NowPayments. It's public but heavily secured."
        },
        {
          "method": "POST",
          "path": "/deposit",
          "description": "Initiate new deposit (create NowPayments invoice)",
          "authentication": "Authenticated + 2FA",
          "requestBody": {
            "amount": 100,
            "currency": "USDT",
            "network": "BEP20|TRC20"
          }
        },
        {
          "method": "GET",
          "path": "/deposit/status/:invoiceId",
          "description": "Check deposit status by invoice ID",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/history",
          "description": "Get user's transaction history",
          "authentication": "Authenticated",
          "queryParameters": {
            "page": 1,
            "limit": 20,
            "type": "all|deposit|withdrawal|stake|transfer|bonus"
          }
        },
        {
          "method": "GET",
          "path": "/stakes",
          "description": "Get all user's stakes",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/stakes/history/:userId",
          "description": "Get stakes by user ID",
          "authentication": "Authenticated"
        },
        {
          "method": "GET",
          "path": "/stakes/bonus",
          "description": "Get bonus stakes",
          "authentication": "Authenticated"
        },
        {
          "method": "POST",
          "path": "/stake",
          "description": "Create new stake (requires 2FA)",
          "authentication": "Authenticated + 2FA",
          "requestBody": {
            "amount": 100,
            "goalId": "optional goal ID"
          }
        }
      ]
    },
    "publicStakingEndpoints": {
      "description": "Public staking information endpoints (no authentication required)",
      "baseUrl": "/api/v1/staking",
      "authentication": "Public",
      "endpoints": [
        {
          "method": "GET",
          "path": "/plans",
          "description": "Get available staking plans",
          "authentication": "Public",
          "responseExample": {
            "success": true,
            "data": [
              {
                "name": "Goal-Based Staking",
                "minStake": 10,
                "maxStake": null,
                "targetROI": "200%",
                "distribution": "weekly",
                "unstakable": false
              }
            ]
          }
        },
        {
          "method": "POST",
          "path": "/calculator",
          "description": "Calculate staking earnings (ROI calculator)",
          "authentication": "Public",
          "requestBody": {
            "amount": 1000,
            "weeks": 52
          },
          "responseExample": {
            "success": true,
            "data": {
              "principal": 1000,
              "targetROI": 2000,
              "projectedEarnings": 1000,
              "estimatedWeeks": 52,
              "weeklyAverage": 19.23
            }
          }
        },
        {
          "method": "GET",
          "path": "/rates",
          "description": "Get current staking rates and performance",
          "authentication": "Public",
          "responseExample": {
            "success": true,
            "data": {
              "currentWeeklyRate": "0.5%",
              "averageWeeklyRate": "0.48%",
              "totalStaked": 2500000,
              "activeStakers": 3420
            }
          }
        }
      ]
    },
    "settingsEndpoints": {
      "description": "System settings management (admin only)",
      "baseUrl": "/api/v1/settings",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/",
          "description": "Get all settings grouped by category",
          "authentication": "Admin",
          "responseExample": {
            "success": true,
            "data": {
              "financial": {
                "minDeposit": 10,
                "minWithdrawal": 10,
                "withdrawalFee": 5
              },
              "staking": {
                "minStake": 10,
                "targetROI": 200
              },
              "referral": {
                "levels": 5,
                "percentages": [5, 2, 1.5, 1, 0.5]
              }
            }
          }
        },
        {
          "method": "GET",
          "path": "/category/:category",
          "description": "Get settings by category",
          "authentication": "Admin",
          "parameters": {
            "category": "financial|staking|referral|security|general"
          }
        },
        {
          "method": "GET",
          "path": "/:key",
          "description": "Get single setting by key",
          "authentication": "Admin"
        },
        {
          "method": "PUT",
          "path": "/:key",
          "description": "Update single setting",
          "authentication": "Admin",
          "requestBody": {
            "value": "new_value"
          }
        },
        {
          "method": "PUT",
          "path": "/",
          "description": "Update multiple settings at once",
          "authentication": "Admin",
          "requestBody": {
            "settings": {
              "minDeposit": 20,
              "withdrawalFee": 3
            }
          }
        },
        {
          "method": "POST",
          "path": "/reset",
          "description": "Reset settings to defaults",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/clear-cache",
          "description": "Clear settings cache",
          "authentication": "Admin"
        }
      ]
    },
    "adminNewsletterEndpoints": {
      "description": "Newsletter management endpoints (admin only)",
      "baseUrl": "/api/v1/admin/ui/newsletters",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "POST",
          "path": "/:newsletterId/publish",
          "description": "Publish newsletter immediately",
          "authentication": "Admin"
        },
        {
          "method": "POST",
          "path": "/:newsletterId/schedule",
          "description": "Schedule newsletter for future publication",
          "authentication": "Admin",
          "requestBody": {
            "scheduledAt": "2024-12-15T10:00:00Z"
          }
        },
        {
          "method": "GET",
          "path": "/analytics",
          "description": "Get overall newsletter analytics",
          "authentication": "Admin",
          "responseExample": {
            "totalNewsletters": 45,
            "totalSubscribers": 5420,
            "averageOpenRate": 42.5,
            "averageClickRate": 15.2
          }
        },
        {
          "method": "GET",
          "path": "/:newsletterId/analytics",
          "description": "Get specific newsletter analytics",
          "authentication": "Admin"
        }
      ]
    },
    "adminActivityFeedManagementEndpoints": {
      "description": "Admin management of platform activity feed",
      "baseUrl": "/api/v1/admin/ui/activity-feed",
      "authentication": "Admin",
      "endpoints": [
        {
          "method": "GET",
          "path": "/analytics",
          "description": "Get activity feed analytics",
          "authentication": "Admin"
        }
      ]
    }
  },
  "criticalNotes": {
    "authentication": "Most endpoints require BetterAuth authentication. Public endpoints are explicitly marked.",
    "rateL imiting": "All financial and admin endpoints have rate limiting applied",
    "errorHandling": "All endpoints follow standard error response format from error-handling.json",
    "webhooks": "NowPayments webhooks are handled separately with signature verification",
    "realtime": "Some features (notifications, activity feed) support WebSocket connections for real-time updates"
  },
  "frontendIntegrationNotes": {
    "activityFeed": "Can be displayed on landing page without authentication for social proof",
    "chatbot": "Should be accessible on all pages as floating widget. Works for both authenticated and anonymous users",
    "achievements": "Display in user dashboard with progress bars and unlock animations",
    "leaderboards": "Can show top 10 publicly, full rankings require authentication",
    "rankSystem": "Complex UI with rank badges, progress indicators, and pool distribution history",
    "specialFunds": "VIP-only feature, hide from regular users unless they have a contract",
    "themeCustomization": "Allow users to personalize their dashboard appearance",
    "adminDashboards": "Comprehensive admin panels with charts, analytics, and real-time monitoring"
  }
}
